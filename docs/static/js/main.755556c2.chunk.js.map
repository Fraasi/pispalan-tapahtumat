{"version":3,"sources":["components/Map/index.js","components/Sponsors/index.js","components/Sponsors/images/Cireco_logo.png","components/Menu/index.js","components/Header/index.js","components/Event/index.js","App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["LMap","React","forwardRef","props","ref","MapContainer","center","zoom","class","Button","className","onClick","setMap","variant","color","TileLayer","attribution","url","window","map_data","map","title","latLong","Marker","position","Popup","Map","isMapOpen","createRef","Modal","id","aria-labelledby","aria-describedby","open","onRendered","gtag","onClose","onBackdropClick","sponsors","name","img","until","Date","getTime","Sponsors","sponsorsToShow","filter","sponsor","now","Boolean","length","href","target","rel","sponsorName","src","alt","useStyles","makeStyles","theme","darkOrLightMode","css","isDarkMode","themeDark","themeLight","backgroundColor","eventBgColor","eventFontColor","linkColor","subHeaderColor","button","width","margin","background","custom","primary","onhover","Menu","classes","useState","isNavOpen","setNav","toggleDrawer","prev","Drawer","pkgJson","version","Header","onSwitchChange","isSwitchOn","setShowOnlyPispalaVenues","children","toggleTheme","downTimer","handleMouseDown","clearTimeout","setTimeout","prevState","handleMouseUp","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onContextMenu","event","preventDefault","IconButton","size","arial-label","Switch","checked","inputProps","DAY_IN_MS","root","secondaryHeading","icon","verticalAlign","height","Event","isOpen","setOpen","useEffect","onTitleClick","data","events","error_msg","error_title","showOnlyPispalaVenues","includes","cleanedName","charAt","toUpperCase","slice","replace","Accordion","expanded","AccordionSummary","expandIcon","aria-controls","AccordionDetails","today","todayDay","getDate","todayMonth","getMonth","isThereEventToday","pastEventsFiltered","sort","ev1","ev2","startTimeStamp","endTimeStamp","eventRows","i","happening","link","startDate","endDateParsed","endDate","dateParsed","eventToday","todayBGColor","text","style","client","Stitch","initializeDefaultAppClient","db","getServiceClient","RemoteMongoClient","factory","App","setEvents","errorMsg","setErrorMsg","setSwitch","setDarkMode","localDarkMode","localStorage","getItem","preferDarkMode","matchMedia","matches","setItem","auth","loginWithCredential","AnonymousCredential","then","user","collection","find","_id","asArray","docs","events_data","hietisIndex","data_updated","findIndex","el","hietis","splice","sortedEvents","first","second","push","catch","err","console","error","toString","CircularProgress","isLocalhost","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","createMuiTheme","ThemedApp","ThemeProvider","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.755556c2.chunk.js","sourcesContent":["import React from 'react'\r\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet'\r\nimport Modal from '@material-ui/core/Modal'\r\nimport Button from '@material-ui/core/Button'\r\nimport './map.css'\r\n\r\n// https://material-ui.com/guides/migration-v3/#modal\r\n// https://material-ui.com/guides/composition/#caveat-with-refs\r\nconst LMap = React.forwardRef((props, ref) => (\r\n  <MapContainer center={[61.50238, 23.71477]} zoom={13} class=\"map-container\">\r\n    <Button\r\n      ref={ref}\r\n      className=\"map-close-button\"\r\n      onClick={() => props.setMap(false)}\r\n      variant=\"outlined\"\r\n      color=\"inherit\"\r\n    >X</Button>\r\n    <TileLayer\r\n      attribution='&copy; <a href=\"https://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n      url='https://{s}.tile.osm.org/{z}/{x}/{y}.png'\r\n    />\r\n    {\r\n      window.map_data &&\r\n      window.map_data.map(({ title, latLong }) => (\r\n        <Marker position={latLong} key={title}>\r\n          <Popup>\r\n            {title}\r\n          </Popup>\r\n        </Marker>\r\n      ))\r\n    }\r\n  </MapContainer>\r\n))\r\n\r\nconst Map = ({ isMapOpen, setMap }) => {\r\n  const ref = React.createRef()\r\n  const onModalOpen = () => {\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      window.gtag('event', 'map_opened', {\r\n        'event_category': 'user',\r\n        'event_label': 'map',\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      id=\"modal-root\"\r\n      className=\"modal-root\"\r\n      aria-labelledby=\"simple-modal-title\"\r\n      aria-describedby=\"simple-modal-description\"\r\n      open={isMapOpen}\r\n      onRendered={onModalOpen}\r\n      onClose={() => setMap(false)}\r\n      onBackdropClick={() => setMap(false)}\r\n    >\r\n      <LMap ref={ref} setMap={setMap} />\r\n    </Modal>\r\n  )\r\n}\r\n\r\n\r\nexport default Map\r\n","import React from 'react'\r\nimport './sponsors.css'\r\nimport cireco_logo from './images/Cireco_logo.png'\r\n\r\n\r\nconst sponsors = [\r\n  {\r\n    name: 'Cireco Finland Oy',\r\n    img: cireco_logo,\r\n    url: 'https://cireco.fi',\r\n    until: new Date(2021, 4, 1).getTime()\r\n  }\r\n]\r\n\r\nconst Sponsors = () => {\r\n  const sponsorsToShow = sponsors.filter(sponsor => sponsor.until > Date.now())\r\n\r\n  const handleAddClick = (sponsorName) => {\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      window.gtag('event', 'add_clicked', {\r\n        'event_category': 'sponsor',\r\n        'event_label': sponsorName,\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    Boolean(sponsorsToShow.length) && (\r\n      <ul className=\"sponsors\">\r\n        <h5>Äppiä tyylikkäästi sponsoroi:</h5>\r\n        {\r\n          sponsorsToShow.map(sponsor => {\r\n            return (\r\n              <li key={sponsor.name} className=\"sponsors\">\r\n                <a href={sponsor.url} target=\"_blank\" rel=\"noopener noreferrer\" onClick={() => handleAddClick(sponsor.name)}>\r\n                  <h4>{sponsor.name}</h4>\r\n                  <img src={sponsor.img} alt={sponsor.name} />\r\n                </a>\r\n              </li>\r\n            )\r\n          })\r\n        }\r\n      </ul>\r\n    )\r\n  )\r\n}\r\n\r\nexport default Sponsors\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAAApCAYAAAAxtBsGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGAGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoTWFjaW50b3NoKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTktMDItMjVUMTE6NDk6MjQrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTktMDItMjVUMTE6NDk6MjQrMDI6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE5LTAyLTI1VDExOjQ5OjI0KzAyOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQyYjgwOTRkLTA2MzgtNGQxNS1hYmJkLTI0ODBlM2UwNzJkOCIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOjdiNGY0M2ViLTY3MWQtOGM0Zi1h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\"","import React, { useState } from 'react'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport Button from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Map from '../Map'\r\nimport Sponsors from '../Sponsors'\r\nimport pkgJson from '../../../package.json'\r\nimport './menu.css'\r\n\r\n// drawer is 'out' of #app, css vars dont work, darkmode with material-ui\r\nconst useStyles = makeStyles(theme => ({\r\n  darkOrLightMode: ({ isDarkMode }) => {\r\n    const css = isDarkMode ? theme.themeDark : theme.themeLight\r\n    return {\r\n      '& .MuiPaper-root': {\r\n        backgroundColor: css.eventBgColor,\r\n        color: css.eventFontColor,\r\n        '& a': {\r\n          color: css.linkColor\r\n        },\r\n        '& span.version': {\r\n          color: css.subHeaderColor\r\n        },\r\n      }\r\n    }\r\n  },\r\n  button: {\r\n    width: '50%',\r\n    margin: '5px 25%',\r\n    background: theme.custom.primary,\r\n    '&:hover': {\r\n      background: theme.custom.onhover,\r\n    },\r\n    '& span.MuiButton-label': {\r\n      color: 'white'\r\n    }\r\n  },\r\n}))\r\n\r\nconst Menu = (props) => {\r\n\r\n  const classes = useStyles(props)\r\n  const [isNavOpen, setNav] = useState(false)\r\n  const [isMapOpen, setMap] = useState(false)\r\n\r\n  const toggleDrawer = () => {\r\n    setNav(prev => !prev)\r\n    if (process.env.NODE_ENV === \"production\" && !isNavOpen) {\r\n      window.gtag('event', 'menu_opened', {\r\n        'event_category': 'user',\r\n        'event_label': 'menu',\r\n      })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        id=\"burger-container\"\r\n        className={`${isNavOpen ? 'open' : ''}`}\r\n        onClick={toggleDrawer}\r\n        title=\"Menu\">\r\n        <div id=\"burger\">\r\n          <span>&nbsp;</span>\r\n          <span>&nbsp;</span>\r\n          <span>&nbsp;</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"drawer-container\">\r\n        <Drawer\r\n          open={isNavOpen}\r\n          onClose={() => toggleDrawer(false)}\r\n          className={classes.darkOrLightMode}\r\n        >\r\n          <div className=\"menu-content\">\r\n            <h3>\r\n              Pispalan tapahtumat&nbsp;\r\n              <span className=\"version\">\r\n                v{pkgJson.version} &copy;Fraasi\r\n              </span>\r\n            </h3>\r\n            <p>\r\n              Pispalan harjun tapahtumat yhdellä sivustolla.\r\n          </p>\r\n            <p>\r\n              <strong>Vinkki: </strong>\r\n              Tämä nettisivu (<a href=\"https://pispala.events/\" target=\"_blank\" rel=\"noopener noreferrer\">https://pispala.events/</a>) on suunniteltu kännykälle ja toimii parhaiten kun avaa nettisivun luurin selaimessa ja valitsee asetuksista 'Add to home screen', jolloin lähtöruudulle napsahtaa kuvake jota klikkaamalla sivu toimii kuten muutkin 'äpit'.\r\n          </p>\r\n            <p>\r\n              Jos sivulta löytyy virheitä tai haluat ehdottaa jotain paikkaa listalle, palautetta voi lähettää osoitteeseen <a href=\"mailto:fraasi.gh@gmail.com\">fraasi.gh@gmail.com</a>\r\n            </p>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              className=\"button kartalla\"\r\n              onClick={() => {\r\n                toggleDrawer(false)\r\n                setMap(true)\r\n              }\r\n              }>\r\n              Kartalla\r\n            </Button>\r\n            <Sponsors />\r\n          </div>\r\n\r\n        </Drawer>\r\n        <Map isMapOpen={isMapOpen} setMap={setMap} />\r\n      </div>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Menu\r\n","import React from 'react'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport MoonIcon from '@material-ui/icons/Brightness4Outlined'\r\nimport SunIcon from '@material-ui/icons/Brightness7Outlined'\r\nimport Menu from '../Menu'\r\nimport './header.css'\r\n\r\n\r\nfunction Header({ onSwitchChange, isSwitchOn, setShowOnlyPispalaVenues, children, toggleTheme, isDarkMode }) {\r\n\r\n  let downTimer = null\r\n\r\n  const handleMouseDown = () => {\r\n    clearTimeout(downTimer);\r\n    downTimer = setTimeout(function () {\r\n      setShowOnlyPispalaVenues(prevState => !prevState)\r\n    }, 5000)\r\n  }\r\n\r\n  const handleMouseUp = () => {\r\n    clearTimeout(downTimer)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1\r\n          className=\"title\"\r\n          onMouseDown={handleMouseDown}\r\n          onMouseUp={handleMouseUp}\r\n          onTouchStart={handleMouseDown}\r\n          onTouchEnd={handleMouseUp}\r\n          onContextMenu={event => event.preventDefault()}\r\n        >\r\n          {children}\r\n        </h1>\r\n        <IconButton\r\n          className=\"theme-button\"\r\n          size=\"medium\"\r\n          arial-label=\"päivä/yö-värit\"\r\n          title=\"päivä/yö-värit\"\r\n          onClick={toggleTheme}\r\n        >\r\n          {\r\n            isDarkMode ? <SunIcon /> : <MoonIcon />\r\n          }\r\n        </IconButton>\r\n\r\n        <Switch\r\n          className=\"switch\"\r\n          checked={isSwitchOn}\r\n          onClick={onSwitchChange}\r\n          title=\"Avaa/sulje kaikki\"\r\n          color=\"default\"\r\n          inputProps={{ 'aria-label': 'primary checkbox' }}\r\n        />\r\n        <Menu isDarkMode={isDarkMode}/>\r\n      </header>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, { useState, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Accordion from '@material-ui/core/Accordion'\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\r\nimport './event.css'\r\n\r\nconst DAY_IN_MS = 86400000 // 24 hours\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  secondaryHeading: {\r\n    color: 'rgba(0, 0, 0, 0.6)'\r\n  },\r\n  icon: {\r\n    verticalAlign: 'bottom',\r\n    height: 20,\r\n    width: 20,\r\n  },\r\n}));\r\n\r\nconst Event = (props) => {\r\n  const [isOpen, setOpen] = useState(false)\r\n  useEffect(() => {\r\n    setOpen(() => props.isSwitchOn)\r\n  }, [props.isSwitchOn]\r\n  )\r\n  const classes = useStyles()\r\n\r\n  const onTitleClick = () => setOpen(prev => !prev)\r\n\r\n  const { name, url, events, error_msg, error_title } = props.data\r\n\r\n  if (props.showOnlyPispalaVenues) {\r\n    const nonPispala = ['dogs_home', 'maanalainen', 'visit_tampere', 'huurupiilo']\r\n    if (nonPispala.includes(name)) return null\r\n  }\r\n\r\n  const cleanedName = `${name.charAt(0).toUpperCase()}${name.slice(1)}`.replace(/_/g, ' ')\r\n\r\n  if (error_msg) {\r\n    return (\r\n      <Accordion className={classes.root} expanded={isOpen}>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1c-content\"\r\n          id=\"panel1c-header\"\r\n          onClick={onTitleClick}\r\n        >\r\n          <div className=\"collapsible-header\">\r\n            {cleanedName}&nbsp;\r\n            <span className=\"secondary-header\">\r\n              ({error_title} 🐛)\r\n            </span>\r\n          </div>\r\n        </AccordionSummary>\r\n        <AccordionDetails className=\"collapsible-body\">\r\n          <span className=\"sub-header\">Käyhän nettisivuilla&nbsp;<a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a></span><br /><br />\r\n          <ul>\r\n            {\r\n              <li key={'error'}>\r\n                {error_msg}\r\n              </li>\r\n            }\r\n          </ul>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n    )\r\n  }\r\n\r\n  const today = new Date()\r\n  const todayDay = today.getDate()\r\n  const todayMonth = today.getMonth()\r\n  let isThereEventToday = false\r\n\r\n  let pastEventsFiltered = events\r\n    .sort((ev1, ev2) => ev1.startTimeStamp < ev2.startTimeStamp ? -1 : 1)\r\n    .filter(event => {\r\n      const { startTimeStamp, endTimeStamp } = event\r\n      if (endTimeStamp && (endTimeStamp + DAY_IN_MS) < today) return false\r\n      if (!endTimeStamp && (startTimeStamp + DAY_IN_MS) < today) return false\r\n      return true\r\n    })\r\n  if (name === 'vastavirta') pastEventsFiltered = pastEventsFiltered.slice(0, 10)\r\n\r\n  const eventRows = pastEventsFiltered.map((event, i) => {\r\n    const { startTimeStamp, endTimeStamp, event: happening, link } = event\r\n    const startDate = new Date(startTimeStamp)\r\n    let endDateParsed = ''\r\n    if (endTimeStamp) {\r\n      const endDate = new Date(endTimeStamp)\r\n      endDateParsed = `–${endDate.getDate()}.${endDate.getMonth() + 1}`\r\n    }\r\n    const dateParsed = `${startDate.getDate()}.${startDate.getMonth() + 1}${endDateParsed}`\r\n    const eventToday = ((startDate.getDate() === todayDay) && (startDate.getMonth() === todayMonth))\r\n    if (eventToday) isThereEventToday = true\r\n    const todayBGColor = eventToday ? 'rgba(39,169,157,0.7)' : ''\r\n    const text = link\r\n      ? (<a href={link} target=\"_blank\" rel=\"noopener noreferrer\">{happening}</a>)\r\n      : happening\r\n    return (\r\n      <tr key={i} style={{ backgroundColor: todayBGColor }}>\r\n        <td>{dateParsed}</td><td>—</td><td>{text}</td>\r\n      </tr>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <Accordion className={classes.root} expanded={isOpen}>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMoreIcon />}\r\n        aria-controls=\"panel1c-content\"\r\n        id=\"panel1c-header\"\r\n        onClick={onTitleClick}\r\n      >\r\n        <div className=\"collapsible-header\">\r\n          {cleanedName}\r\n          <span className=\"secondary-header\">\r\n            &nbsp;{` (${pastEventsFiltered.length}) ${isThereEventToday ? '!' : ''}`}\r\n          </span>\r\n        </div>\r\n      </AccordionSummary>\r\n      <AccordionDetails className=\"collapsible-body\">\r\n        <span className=\"sub-header\">Aukioloajat & tarkemmat tiedot <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a></span>\r\n        {\r\n          name === 'hirvitalo' &&\r\n          <>\r\n            <br />\r\n            <span className=\"sub-header\">Kansankeittiö lauantaisin <a href=\"https://www.facebook.com/groups/294496307351291/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.facebook.com/groups/294496307351291/</a></span>\r\n          </>\r\n        }\r\n        {\r\n          name.includes('vuosittaiset') &&\r\n          <>\r\n            <br />\r\n            <span className=\"sub-header\"><strong>Huom:</strong> päivämäärät ei välttämäti ole vielä oikeat tälle vuodelle</span>\r\n          </>\r\n        }\r\n\r\n        <br /><br />\r\n        <table>\r\n          <tbody>\r\n            {\r\n              eventRows\r\n            }\r\n          </tbody>\r\n        </table>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  )\r\n}\r\n\r\nexport default Event\r\n","import React, { useState, useEffect } from 'react'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Header from './components/Header'\r\nimport Event from './components/Event'\r\n// import vuosittaiset from './assets/vuosittaiset-tapahtumat.js'\r\nimport './App.css'\r\n\r\nimport { Stitch, RemoteMongoClient, AnonymousCredential } from 'mongodb-stitch-browser-sdk'\r\n\r\nconst client = Stitch.initializeDefaultAppClient('tapahtumat-api-lffsa')\r\nconst db = client.getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas').db('tapahtumat')\r\n\r\nfunction App() {\r\n\r\n  const [events, setEvents] = useState(null)\r\n  const [errorMsg, setErrorMsg] = useState(null)\r\n  const [isSwitchOn, setSwitch] = useState(false)\r\n  const [isDarkMode, setDarkMode] = useState(false)\r\n  const [showOnlyPispalaVenues, setShowOnlyPispalaVenues] = useState(true)\r\n\r\n  useEffect(() => {\r\n    const localDarkMode = localStorage.getItem('dark_mode')\r\n    const preferDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n    if (localDarkMode === 'false' || (localDarkMode === null && preferDarkMode === false)) {\r\n      setDarkMode(false)\r\n      localStorage.setItem('dark_mode', 'false')\r\n    } else if (localDarkMode === 'true' || preferDarkMode) {\r\n      setDarkMode(true)\r\n      localStorage.setItem('dark_mode', 'true')\r\n    }\r\n\r\n    client.auth.loginWithCredential(new AnonymousCredential())\r\n      .then(user => {\r\n        return db.collection('pispala').find({}, { data: 1, _id: 0 }).asArray()\r\n      }).then(docs => {\r\n        const { events_data, map_data, data_updated } = docs[0].data\r\n        // add vuosittaiset tapahtumat & sort + move hietis last\r\n        // events_data.push(vuosittaiset)\r\n        const hietisIndex = events_data.findIndex(el => el.name === 'hiedanranta')\r\n        const hietis = events_data.splice(hietisIndex, 1)[0]\r\n        const sortedEvents = events_data.sort((first, second) => first.name < second.name ? -1 : 1)\r\n        sortedEvents.push(hietis)\r\n        if (process.env.NODE_ENV !== \"production\") console.log('Events:', new Date(data_updated), sortedEvents)\r\n        setEvents(() => sortedEvents)\r\n        window.map_data = map_data // only way to pass data to LMap, 'cos of the way leaflet works, no props no context :(\r\n      }).catch(err => {\r\n        console.error('Data fetch error:', err)\r\n        if (err.toString().includes('TRANSPORT_ERROR')) {\r\n          setErrorMsg(() => 'Hupsista. Ei saatu yhteyttä tietokantaan. Tarkista nettiyhteytesi ja kokeile ladata sivu uudestaan.')\r\n        } else {\r\n          setErrorMsg(() => err.toString())\r\n        }\r\n      })\r\n  }, [])\r\n\r\n  const onSwitchChange = () => {\r\n    setSwitch(prev => !prev)\r\n  }\r\n\r\n  const toggleTheme = () => {\r\n    setDarkMode(prev =>  {\r\n      localStorage.setItem('dark_mode', !prev)\r\n      return !prev\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className={`App ${isDarkMode ? 'theme-dark' : 'theme-light'}`}>\r\n      <Header\r\n        isSwitchOn={isSwitchOn}\r\n        onSwitchChange={onSwitchChange}\r\n        setShowOnlyPispalaVenues={setShowOnlyPispalaVenues}\r\n        toggleTheme={toggleTheme}\r\n        isDarkMode={isDarkMode}\r\n      >\r\n        Pispalan Tapahtumat\r\n      </ Header>\r\n      {\r\n        errorMsg !== null\r\n          ? (<div className=\"error-loader\">{errorMsg}</div>)\r\n          : events === null\r\n            ? (<div className=\"error-loader\">\r\n              Haetaan tapahtumia...<br /><br />\r\n              <CircularProgress />\r\n            </div>)\r\n            : (<div>\r\n              {\r\n                events.map((el) => {\r\n                  return (\r\n                    <Event\r\n                      data={el}\r\n                      key={el.name}\r\n                      showOnlyPispalaVenues={showOnlyPispalaVenues}\r\n                      isSwitchOn={isSwitchOn}>\r\n                    </Event>\r\n                  )\r\n                })\r\n              }\r\n            </div>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles'\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nconst theme = createMuiTheme({\n  custom: {\n    primary: '#1d7d74',\n    onhover: '#1b7068'\n  },\n  themeDark: {\n    eventFontColor: 'rgb(233, 233, 233)',\n    eventBgColor: 'rgb(44, 44, 44)',\n    subHeaderColor: 'rgba(255, 255, 255, 0.6)',\n    linkColor: '#29aea0',\n  },\n  themeLight: {\n    eventFontColor: 'rgb(40, 40, 40)',\n    eventBgColor: 'rgb(233, 233, 233)',\n    subHeaderColor: 'rgba(0, 0, 0, 0.6)',\n    linkColor: 'rgb(0, 0, 238)',\n  }\n})\n\nfunction ThemedApp() {\n  return (\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  )\n}\n\nReactDOM.render(<ThemedApp />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register()\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}