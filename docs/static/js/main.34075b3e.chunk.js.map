{"version":3,"sources":["components/Event/index.js","components/Map/index.js","components/NavMenu/index.js","App.js","serviceWorker.js","index.js"],"names":["Event","props","_props$data","data","name","url","events","showOnlyPispalaVenues","includes","onTitleClick","error_msg","react_default","a","createElement","lib","header","concat","error_title","onSelect","className","href","target","rel","key","slice","cleanedName","charAt","toUpperCase","replace","today","Date","todayDay","getDate","todayMonth","getMonth","isThereEventToday","pastEventsFiltered","sort","ev1","ev2","startTimeStamp","filter","event","endTimeStamp","endDate","endDay","endMonth","startDate","startDay","startMonth","eventRows","map","i","happening","endDateParsed","dateParsed","eventToday","todayBGColor","style","backgroundColor","length","Fragment","Map","options","onOpenEnd","window","dataLayer","push","actions","waves","modal","position","top","right","trigger","title","id","Nav","_useState","useState","_useState2","Object","slicedToArray","open","setOpen","onClick","prev","pkgJson","version","components_Map","client","Stitch","initializeDefaultAppClient","db","getServiceClient","RemoteMongoClient","factory","App","setData","_useState3","_useState4","errorMsg","setErrorMsg","_useState5","_useState6","expanded","setExpanded","_useState7","_useState8","setShowOnlyPispalaVenues","useEffect","document","querySelector","auth","loginWithCredential","AnonymousCredential","then","user","collection","find","_id","asArray","docs","console","log","returnData","catch","err","error","downTimer","handleMouseDown","clearTimeout","setTimeout","prevState","handleMouseUp","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onContextMenu","preventDefault","offLabel","onLabel","onChange","M_Collapsible","close","NavMenu","toString","size","flashing","accordion","events_data","first","second","el","components_Event","Boolean","location","hostname","match","ReactDOM","render","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.34075b3e.chunk.js","sourcesContent":["import React from 'react'\r\nimport { CollapsibleItem } from 'react-materialize'\r\nimport './event.css'\r\n\r\nconst Event = (props) => {\r\n\r\n  let { name, url, events } = props.data\r\n    \r\n  if (props.showOnlyPispalaVenues) {\r\n    const nonPispala = ['dogs_home', 'maanalainen', 'visit_tampere', 'huurupiilo']\r\n    if (nonPispala.includes(name)) return null\r\n  }\r\n\r\n  // onSelect is not a function error without this\r\n  const onTitleClick = () => { }\r\n\r\n  if (events.error_msg) {\r\n    return (\r\n      <CollapsibleItem\r\n        header={`${events.error_title} (${name}) *!*!*`}\r\n        onSelect={onTitleClick}\r\n      >\r\n        <span className=\"sub-header\">Käyhän nettisivuilla&nbsp;<a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a></span><br /><br />\r\n        <ul>\r\n          {\r\n            <li key={'error'}>\r\n              {events.error_msg}\r\n            </li>\r\n          }\r\n        </ul>\r\n      </CollapsibleItem>\r\n    )\r\n  }\r\n\r\n  if (name === 'vastavirta') events = events.slice(0, 10)\r\n  const cleanedName = `${name.charAt(0).toUpperCase()}${name.slice(1)}`.replace(/_/g, ' ')\r\n  const today = new Date()\r\n  const todayDay = today.getDate()\r\n  const todayMonth = today.getMonth()\r\n  let isThereEventToday = false\r\n\r\n  const pastEventsFiltered = events\r\n    .sort((ev1, ev2) => ev1.startTimeStamp < ev2.startTimeStamp ? -1 : 1)\r\n    .filter(event => {\r\n      const { startTimeStamp, endTimeStamp } = event\r\n      if (endTimeStamp) {\r\n        const endDate = new Date(endTimeStamp)\r\n        const endDay = endDate.getDate()\r\n        const endMonth = endDate.getMonth()\r\n        return !(endDay < todayDay && endMonth <= todayMonth)\r\n      } \r\n      const startDate = new Date(startTimeStamp)\r\n      const startDay = startDate.getDate()\r\n      const startMonth = startDate.getMonth()\r\n      if (startDay < todayDay && startMonth <= todayMonth) return false\r\n      return true\r\n    })\r\n\r\n  const eventRows = pastEventsFiltered.map((event, i) => {\r\n    const { startTimeStamp, endTimeStamp, event: happening } = event\r\n    const startDate = new Date(startTimeStamp)\r\n    let endDateParsed = ''\r\n    if (endTimeStamp) {\r\n      const endDate = new Date(endTimeStamp)\r\n      endDateParsed = `–${endDate.getDate()}.${endDate.getMonth() + 1}`\r\n    }\r\n    const dateParsed = `${startDate.getDate()}.${startDate.getMonth() + 1}${endDateParsed}`\r\n    const eventToday = ( (startDate.getDate() === todayDay) && (startDate.getMonth() === todayMonth) )\r\n    if (eventToday) isThereEventToday = true\r\n    const todayBGColor = eventToday ? 'rgba(39,169,157,0.7)' : ''\r\n\r\n    return (\r\n      <tr key={i} style={{ backgroundColor: todayBGColor }}>\r\n        <td>{dateParsed}</td><td>—</td><td>{happening}</td>\r\n      </tr>\r\n    )\r\n  })\r\n\r\n  return (\r\n    <CollapsibleItem\r\n      header={`${cleanedName} (${pastEventsFiltered.length}) ${isThereEventToday ? '!' : ''}`}\r\n      onSelect={onTitleClick}\r\n    >\r\n      <span className=\"sub-header\">Aukioloajat & tarkemmat tiedot <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{url}</a></span>\r\n      {\r\n        name === 'hirvitalo' &&\r\n        <>\r\n          <br />\r\n          <span className=\"sub-header\">Kansankeittiö lauantaisin <a href=\"https://www.facebook.com/groups/294496307351291/\" target=\"_blank\" rel=\"noopener noreferrer\">https://www.facebook.com/groups/294496307351291/</a></span>\r\n        </>\r\n      }\r\n\r\n      <br /><br />\r\n      <table>\r\n        <tbody>\r\n          {\r\n            eventRows\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </CollapsibleItem>\r\n  )\r\n}\r\n\r\nexport default Event\r\n","import React from 'react'\r\nimport { Modal, Button } from 'react-materialize'\r\nimport './map.css'\r\n\r\nconst Map = () => {\r\n  const onModalOpen = () => {\r\n    if (process.env.NODE_ENV === \"production\") {\r\n      window.dataLayer.push({ 'event': 'map_modal_opened' })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      options={{\r\n        onOpenEnd: onModalOpen\r\n      }}\r\n      // header=\"Pispalan tapahtumista\"\r\n      actions={\r\n        <Button waves=\"green\" modal=\"close\" style={{\r\n          position: 'absolute',\r\n          top: '5px',\r\n          right: '5px'\r\n        }}>\r\n          X\r\n        </Button>\r\n      }\r\n      trigger={\r\n        <a\r\n          href=\"#\"\r\n          title=\"Kartalla\"\r\n          style={{}}\r\n        >Paikat kartalla (työn alla)</a>\r\n      }\r\n    >\r\n      <div id=\"map\"></div>\r\n\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default Map\r\n","import React, { useState } from 'react'\r\nimport Map from '../Map'\r\nimport pkgJson from '../../../package.json'\r\nimport './nav-menu.css'\r\n\r\nconst Nav = () => {\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const handleClick = () => {\r\n    if (process.env.NODE_ENV === \"production\" && !open) {\r\n      window.dataLayer.push({ 'event': 'about_modal_opened' })\r\n    }\r\n    setOpen(prev => !prev)   \r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div id=\"burger-container\" className={`${open ? 'open' : ''}`} onClick={handleClick}>\r\n        <div id=\"burger\">\r\n          <span>&nbsp;</span>\r\n          <span>&nbsp;</span>\r\n          <span>&nbsp;</span>\r\n        </div>\r\n      </div>\r\n      <div className={`menu${open ? ' open' : ''}`} >\r\n        <div className=\"menu-content\">\r\n          <h5>\r\n            Pispalan tapahtumat (v{pkgJson.version})\r\n          </h5>\r\n          <p>\r\n            Pispalan harjun tapahtumat yhdellä sivustolla.\r\n          </p>\r\n          <p>\r\n            <strong>Vinkki: </strong>\r\n            Tämä nettisivu (<a href=\"https://fraasi.github.io/pispalan-tapahtumat/\" target=\"_blank\" rel=\"noopener noreferrer\">https://fraasi.github.io/pispalan-tapahtumat/</a>) on suunniteltu kännykälle ja toimii parhaiten kun avaa nettisivun luurin selaimessa ja valitsee asetuksista 'Add to home screen', jolloin lähtöruudulle napsahtaa kuvake jota klikkaamalla sivu toimii kuten muutkin 'äpit'.\r\n          </p>\r\n          <p>\r\n            <strong>Huom: </strong>\r\n            Päivämäärien kanssa työskentely on kutakuinkin vaikeaa, joten jotain erheitä on odotettavissa. Korjailen niitä sitä mukaa kun niitä ilmenee ja aika antaa myöten.\r\n          </p>\r\n          <p>\r\n            Jos sivulta löytyy virheitä tai on jotain muuta valitettavaa tai haluat ehdottaa jotain paikkaa listalle, sähköpostia voi lähettää osoitteeseen <a href=\"mailto:fraasi.gh@gmail.com\">fraasi.gh@gmail.com</a>\r\n          </p>\r\n          <Map />\r\n        </div>\r\n\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Nav","import React, { useState, useEffect } from 'react'\r\nimport { Preloader, Collapsible, Switch } from 'react-materialize'\r\nimport Event from './components/Event'\r\nimport NavMenu from './components/NavMenu'\r\nimport './App.css'\r\n\r\nimport { Stitch, RemoteMongoClient, AnonymousCredential } from 'mongodb-stitch-browser-sdk'\r\n\r\nconst client = Stitch.initializeDefaultAppClient('tapahtumat-api-lffsa')\r\nconst db = client.getServiceClient(RemoteMongoClient.factory, 'mongodb-atlas').db('tapahtumat')\r\n\r\nfunction App() {\r\n\r\n  const [data, setData] = useState(null)\r\n  const [errorMsg, setErrorMsg] = useState(null)\r\n  const [expanded, setExpanded] = useState(false)\r\n  const [showOnlyPispalaVenues, setShowOnlyPispalaVenues ] = useState(true)\r\n\r\n  useEffect(() => {\r\n    document.querySelector('.switch').title = 'Avaa/sulje kaikki'\r\n    client.auth.loginWithCredential(new AnonymousCredential())\r\n      .then(user => {\r\n        return db.collection('pispala').find({}, { data: 1, _id: 0 }).asArray()\r\n      }\r\n      ).then(docs => {\r\n        console.log('docs:', docs)\r\n        const returnData = docs[0].data\r\n        setData(() => returnData)\r\n        console.log('data', returnData)\r\n      }).catch(err => {\r\n        console.error('Data fetch error:', err)\r\n        setErrorMsg(() => err)\r\n      })\r\n  }, [])\r\n\r\n  const onSwitchChange = () => {\r\n    setExpanded(prev => !prev)\r\n    if (expanded) document.querySelector('.collapsible.expandable').M_Collapsible.close()\r\n    else document.querySelector('.collapsible.expandable').M_Collapsible.open()\r\n  }\r\n\r\n  let downTimer = null\r\n\r\n  const handleMouseDown = () => {\r\n    clearTimeout(downTimer);\r\n    downTimer = setTimeout(function() {\r\n      setShowOnlyPispalaVenues(prevState => !prevState)\r\n    }, 5000)\r\n  }\r\n\r\n  const handleMouseUp = () => {\r\n    clearTimeout(downTimer)\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <h1 className=\"title\" onMouseDown={handleMouseDown} onMouseUp={handleMouseUp} onTouchStart={handleMouseDown} onTouchEnd={handleMouseUp} onContextMenu={event => event.preventDefault()}>\r\n          Pispalan Tapahtumat\r\n        </h1>\r\n        <Switch\r\n          offLabel=\"\"\r\n          onLabel=\"\"\r\n          onChange={onSwitchChange}\r\n        />\r\n        <NavMenu />\r\n      </header>\r\n      {\r\n        errorMsg !== null\r\n          ? (<div className=\"error-loader\">{errorMsg.toString()}</div>)\r\n          : data === null\r\n            ? (<div className=\"error-loader\">\r\n              Haetaan tapahtumia...<br /><br />\r\n              <Preloader size=\"small\" flashing />\r\n            </div>)\r\n            : (<Collapsible accordion={false} >\r\n              {\r\n                data.events_data\r\n                  .sort((first, second) => first.name < second.name ? -1 : 1) .map((el, i) => {\r\n                    return (\r\n                      <Event\r\n                        data={el}\r\n                        key={el.name}\r\n                        showOnlyPispalaVenues={showOnlyPispalaVenues}>\r\n                      </Event>\r\n                    )\r\n                })\r\n              }\r\n            </Collapsible>)\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}